<!doctype html><html lang=en><head><title>AWS 101: EC2 Part 1 :: Maksym Postument</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Do you want to know more about AWS EC2? Check this programming and I will explain all you need to know about AWS"><meta name=keywords content="VSCode,Devops,Beginner,EC2,AWS,Cloud,SRE"><meta name=robots content="noodp"><link rel=canonical href=https://mpostument.com/programming/aws/aws-101-ec2-part-1/><script async src="https://www.googletagmanager.com/gtag/js?id=G-SBRJXS94DC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SBRJXS94DC",{anonymize_ip:!1})}</script><link rel=stylesheet href=https://mpostument.com/styles.css><link rel="shortcut icon" href=https://mpostument.com/img/theme-colors/blue.png><link rel=apple-touch-icon href=https://mpostument.com/img/theme-colors/blue.png><meta name=twitter:card content="summary"><meta name=twitter:site content="mpostument.com"><meta name=twitter:creator content="Maks_Postument"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="AWS 101: EC2 Part 1"><meta property="og:description" content="Do you want to know more about AWS EC2? Check this programming and I will explain all you need to know about AWS"><meta property="og:url" content="https://mpostument.com/programming/aws/aws-101-ec2-part-1/"><meta property="og:site_name" content="Maksym Postument"><meta property="og:image" content="https://mpostument.com/aws/aws-101-ec2-part-1.jpg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="Devops"><meta property="article:section" content="Beginner"><meta property="article:section" content="AWS"><meta property="article:published_time" content="2022-09-22 22:45:30 +0300 +0300"><p align=center style=background-color:#23b0ff>Sign up for my <a href=https://tinyletter.com/mpostument>email
newsletter</a> or use this <a href=/index.xml>RSS feed</a>. This is the best way to stay up-to-date with my latest content. Thank you for your continued support!</p><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8633398301520801" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js></script>
<script src=https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js></script>
<script src=https://cdn.jsdelivr.net/npm/@algolia/autocomplete-preset-algolia></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@algolia/autocomplete-theme-classic><div id=autocomplete></div><script>var searchClient=algoliasearch("8HJOK7X4MI","a882cdf8954678175d442905d08d8926");const{autocomplete}=window["@algolia/autocomplete-js"],{getAlgoliaResults}=window["@algolia/autocomplete-preset-algolia"];autocomplete({container:"#autocomplete",placeholder:"Search",getSources({query:e}){return[{sourceId:"title",getItems(){return getAlgoliaResults({searchClient,queries:[{indexName:"mpostument",query:e,params:{hitsPerPage:5,attributesToSnippet:["title:15","description:35"],snippetEllipsisText:"…"}}]})},templates:{item({item:e,components:t,html:n}){return n`<div class="aa-ItemWrapper">
                            <div class="aa-ItemContent">
                              <div class="aa-ItemContentBody">
                                <div class="aa-ItemContentTitle">
                                  ${t.Highlight({hit:e,attribute:"title"})}
                                </div>
                                <div class="aa-ItemContentDescription">
                                  ${t.Snippet({hit:e,attribute:"description"})}
                                </div>
                              </div>
                            </div>
                          </div>`}},getItemUrl({item:e}){return e.href},onSelect({item:e}){window.location.href=e.href}}]}})</script></head><body class=blue><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>mpostument.com</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>Home</a></li><li><a href=/programming/>Programming</a></li><li><a href=/drawing/>Drawing</a></li><li><a href=/guitar/>Guitar</a></li><li><a href=/projects/>Projects</a></li><li><a href=/tags/>Tags</a></li><li><a href=/categories/>Categories</a></li><hr><li><a href=https://mpostument.com/>English</a></li><li><a href=https://mpostument.com/ua/>Ukraine</a></li></ul></li></ul><ul class="menu menu--desktop menu--language-selector"><li class=menu__trigger>English&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://mpostument.com/>English</a></li><li><a href=https://mpostument.com/ua/>Ukraine</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>Home</a></li><li><a href=/programming/>Programming</a></li><li><a href=/drawing/>Drawing</a></li><li><a href=/guitar/>Guitar</a></li><li><a href=/projects/>Projects</a></li><li><a href=/tags/>Tags</a></li><li><a href=/categories/>Categories</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://mpostument.com/programming/aws/aws-101-ec2-part-1/>AWS 101: EC2 Part 1</a></h1><div class=post-meta><time class=post-date>2022-09-22 ::</time>
<span class=post-author>Maksym Postument</span>
<span class=post-reading-time>:: 9 min read (1856 words)</span></div><span class=post-tags>#<a href=https://mpostument.com/tags/devops/>Devops</a>&nbsp;
#<a href=https://mpostument.com/tags/ec2/>EC2</a>&nbsp;
#<a href=https://mpostument.com/tags/beginner/>Beginner</a>&nbsp;
#<a href=https://mpostument.com/tags/aws/>AWS</a>&nbsp;</span>
<img src=https://mpostument.com/aws/aws-101-ec2-part-1.jpg class=post-cover alt="AWS 101: EC2 Part 1" title="Cover Image"><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#ui-overview>UI Overview</a><ul><li><a href=#instance>Instance</a></li><li><a href=#instance-type>Instance Type</a></li><li><a href=#launch-template>Launch Template</a></li><li><a href=#spot-requests>Spot Requests</a></li><li><a href=#savings-plan>Savings Plan</a></li><li><a href=#reserved-instances>Reserved instances</a></li><li><a href=#images>Images</a></li><li><a href=#elastic-block-store>Elastic Block Store</a></li><li><a href=#network--security>Network & Security</a></li><li><a href=#placement-groups>Placement groups</a></li><li><a href=#load-balancer-та-autoscaling-будуть-розглянуті-в-наступному-пості>Load Balancer та Autoscaling будуть розглянуті в наступному пості</a></li></ul></li><li><a href=#how-to-create-ec2-with-terraform>How to create ec2 with terraform</a></li><li><a href=#golang-sdk>Golang SDK</a></li><li><a href=#video>Video</a></li></ul></nav></div><div class=post-content><div><p>Hello!</p><p>With this programming, I will start a series about AWS, in which I will show how to use various AWS services, and automate them using <code>terraform</code> and the AWS SDK. And let&rsquo;s start with the EC2 service.</p><p>EC2 is the core compute component of AWS. In practice, EC2 makes life easier for developers by providing scalable, secure computing power on AWS. It makes scaling up or down much easier, can be integrated with several other services, and comes with a plan where you only pay for what you use.</p><h2 id=ui-overview>UI Overview<a href=#ui-overview class=hanchor arialabel=Anchor>&#8983;</a></h2><p><img src=/aws/ec2/ec2-ui.png alt=ec2-ui></p><p>This is what the EC2 UI looks like. It has several categories:</p><ul><li>Instance</li><li>Images</li><li>EBS</li><li>Network & Security</li><li>Load Balancing</li><li>Auto Scaling</li></ul><h3 id=instance>Instance<a href=#instance class=hanchor arialabel=Anchor>&#8983;</a></h3><p>In the instance section, you can create instances, view existing ones, and create templates of instance configurations for further reuse. To create an instance, you need to click Launch Instance.</p><p><img src=/aws/ec2/ec2-launch.png alt=ec2-launch></p><p>Here we need to specify the attributes of our future instance. AMI is mandatory. AMI is an image of the operating system that will be used for EC2. It can be a clean OS without additional settings, or an image with certain settings, for example, with LAMP Stack or WordPress.</p><p><img src=/aws/ec2/ec2ami.png alt=ec2-ami></p><p>The next mandatory parameters are Instance Type and Key Pair.
The type of instance determines how much RAM and processor cores it will have. Depending on the type of instance, the price will be determined.</p><p>Different types of instances have different purposes:</p><ol><li>General purpose - balance computing, network resources, and memory. They can be used for many different workloads. These instances are ideal for applications that use such resources in equal amounts, such as web instances and code repositories. Types T and M</li><li>Computationally optimized - ideal for applications with computational speed limitations that can use high-performance processors. instances in this family are well-suited for batch workloads, multimedia transcoding, high-performance web instances, high-performance computing (HPC), scientific modeling, dedicated game and ad instances, machine learning inference, and other applications that require large computing resources. Type C</li><li>Optimized for memory - provide high performance of workloads related to the processing of large data sets in memory. Type R</li><li>Accelerated computing - use hardware accelerators (coprocessors) for operations such as floating-point calculations, graphics processing, and mapping of data samples, and as a result, perform them more efficiently than is possible when the software runs only on the CPU. Types P, G, F</li><li>Storage-Optimized - Storage-optimized, suitable for workloads that require sequential access for multiple read and write operations to large data packets on local storage. They are optimized to deliver tens of thousands of random I/O operations per second (IOPS) to applications with low latency. Types I, D</li></ol><p><img src=/aws/ec2/ec2-instance-type.png alt=ec2-type></p><p>Key Type indicates which ssh key will be used to access the instance, or not to use a key at all. In this case, there will be no ssh access to the instance.</p><p><img src=/aws/ec2/ec2-network.png alt=ec2-network></p><p>This section specifies which subnet will be used for the instance and which security group to use. Security Group is a firewall that controls which ports will be opened on the instance</p><p><img src=/aws/ec2/ec2-volume.png alt=ec2-volume></p><p>In this section, you configure the size and type of disk for the instance, and you can mount the additional file system like EFS or FSx.</p><p>Tags are also an important category, you should always add at least a few so that in the future you can find out whose instance this is, what environment it belongs to, its purpose, etc. Tags are key-value pairs, for example, Name = Webinstance.</p><p>The last section is Advanced details. Where you can specify many other parameters, the most important of which are the IAM instance profile (determines access to which AWS resources will be from this instance), and User Data (the script that is executed when the instance is created).</p><p>After all, parameters are specified, click Launch Instance and the instance will be created.</p><h3 id=instance-type>Instance Type<a href=#instance-type class=hanchor arialabel=Anchor>&#8983;</a></h3><p>In this section, you can view existing types of instances and their prices.</p><p><img src=/aws/ec2/ec2-types.png alt=ec-types></p><h3 id=launch-template>Launch Template<a href=#launch-template class=hanchor arialabel=Anchor>&#8983;</a></h3><p>The launch template has almost all the same fields as when creating an instance. But creating a Launch Template does not create an instance, but only creates a template that can be used to create instances with the same configuration. In addition to the standard EC2 parameters, you need to specify the name of the template. Also, a template can be created from an existing instance</p><p><img src=/aws/ec2/ec2-launch-tpl.png alt=ec2-launch-tpl></p><p>And as soon as the template is created, you can create an instance from it, and you can also use it in an auto-scaling group.</p><p><img src=/aws/ec2/ec2-tpl-launch.png alt=ec2-tpl-launch></p><h3 id=spot-requests>Spot Requests<a href=#spot-requests class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Spot instances are essentially the sale of available resources at a great discount. At the same time, the instance can be turned off and taken back at any time. When ordering, you make a bid - indicate the maximum price you are willing to pay for use. It is the balance of rates and free resources that forms the final cost, which at the same time differs in different regions.</p><h3 id=savings-plan>Savings Plan<a href=#savings-plan class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Allows you to get a discount on ec2/lambda/fargate for committing to use a certain amount of resources for 1 or 3 years.</p><h3 id=reserved-instances>Reserved instances<a href=#reserved-instances class=hanchor arialabel=Anchor>&#8983;</a></h3><p>It is similar to the Savings Plan with the only difference that a reserved instance is purchased for a specific type of instance for 1 or 3 years</p><p><img src=/aws/ec2/ec2-reserved.png alt=ec2-reserved></p><h3 id=images>Images<a href=#images class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Images have an AMI Catalog where you can find all publicly available ami. The AMIs section contains all of our created AMIs. AMI can be created by right-clicking on the instance, in the menu that appears, and selecting Image and Templates -> Create Image.</p><p><img src=/aws/ec2/ec2-create-ami.png alt=ec2-create-ami></p><p>Once all the information is entered, click Create Image and you can found in the AMIs section</p><p><img src=/aws/ec2/ec2-ami-ready.png alt=ec2-ami-reade></p><p>Now you can create new instances from this AMI</p><h3 id=elastic-block-store>Elastic Block Store<a href=#elastic-block-store class=hanchor arialabel=Anchor>&#8983;</a></h3><p>This section stores everything related to disks.</p><h4 id=volumes>Volumes<a href=#volumes class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Some disks are currently used by the instance or that are temporarily not used by anything. From here disk can be deleted, detached, resized, or mounted.</p><p><img src=/aws/ec2/ec2-volume-ready.png alt=ec2-volume-ready></p><h4 id=snapshots>Snapshots<a href=#snapshots class=hanchor arialabel=Anchor>&#8983;</a></h4><p>This section contains snapshots of the disk at a certain point in time. With their help, you can create a new volume if you need to restore data that was lost on the disk itself. Note that when we created the AMI, a disk image was automatically created. And it won&rsquo;t be able to be removed as long as the AMI exists. First, you need to delete ami and only then you can delete the picture</p><p><img src=/aws/ec2/ec2-snapshot.png alt=ec2-snapshot></p><h4 id=lifecycle-manager>Lifecycle Manager<a href=#lifecycle-manager class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Allows you to create rules according to which disk snapshot/ami will be automatically created and deleted.</p><p>On the first page of the configuration, you need to specify the name of the policy and also select the IAM role that will be used to create/delete AMIs and snapshots. To select an instance that will be used in the policy you need to specify the tag of this instance. For example, if I have a tag on my servers as type = database, then I can specify that tag, and the policy will be applied only to this instance.</p><p>On the next page, you need to define the schedule on which snapshots/AMIs will be created and how many snapshots/AMIs to keep. For example, run every day at 12-00 UTC and save the last 20.</p><h3 id=network--security>Network & Security<a href=#network--security class=hanchor arialabel=Anchor>&#8983;</a></h3><p>In this section, there are security groups that control the configuration of access to ports on the instance. SSH keys and static IP are also located here.</p><h4 id=security-groups>Security Groups<a href=#security-groups class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Security Groups allow you to open specific ports to access the instance. For example, you can open port 443 for HTTPS access, or port 22 for ssh access.</p><p><img src=/aws/ec2/ec2-sg.png alt=ec2-sg></p><p>The are two types of rules: Inbound and Outbound, which control incoming and outgoing traffic. In this example, there will be one rule in the incoming traffic that allows access to port 22 from a certain IP address. All outgoing traffic is available. Without any restrictions.</p><p>The security group can be selected when creating the instance, or right-click on the existing instance and select Security > Change security groups. Select/delete the desired group and press Save.</p><h4 id=elastic-ips>Elastic IPs<a href=#elastic-ips class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Allows you to reserve a static public IP address. If an instance in AWS is removed or stopped, its public IP address changes. If we need it to always be the same, it can be done in this section.
Just click on Allocate Elastic IP Address</p><p><img src=/aws/ec2/ec2-elastic.png alt=ec2-elastic></p><p>Now you need to tell the instance to use this address. To do this, you need to select the IP address and click Actions -> Associate Elastic IP address in the menu. Select the instance and its private IP and click Associate.</p><p><img src=/aws/ec2/ec2-eip-associate.png alt=ec2-eip-associate></p><p>If the IP is no longer needed, it can be deleted by clicking Actions -> Release Elastic IP address and confirming the deletion.</p><h3 id=placement-groups>Placement groups<a href=#placement-groups class=hanchor arialabel=Anchor>&#8983;</a></h3><p>When you start a new instance, AWS tries to place it so that all instances are distributed on the same hardware to minimize correlated failures</p><h4 id=key-pairs>Key Pairs<a href=#key-pairs class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Public parts of SSH keys are stored in Key Pairs. They can be selected when creating an instance. A new public key can also be uploaded here</p><h4 id=network-interfaces>Network interfaces<a href=#network-interfaces class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Here are the network interfaces of all AWS services.</p><p><img src=/aws/ec2/ec2-eni.png alt=ec2-eni></p><h3 id=load-balancer-та-autoscaling-будуть-розглянуті-в-наступному-пості>Load Balancer та Autoscaling будуть розглянуті в наступному пості<a href=#load-balancer-та-autoscaling-будуть-розглянуті-в-наступному-пості class=hanchor arialabel=Anchor>&#8983;</a></h3><h2 id=how-to-create-ec2-with-terraform>How to create ec2 with terraform<a href=#how-to-create-ec2-with-terraform class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Using terraform, it is very easy to create an instance. For this, terraform has a resource called <a href=https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance>aws_instance</a>.</p><p>The simplest code example will look like this</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=display:flex><span><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;aws_instance&#34; &#34;foo&#34;</span> {
</span></span><span style=display:flex><span>  ami                    <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ami-0cff7528ff583bf9a&#34;</span>
</span></span><span style=display:flex><span>  instance_type          <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;t2.micro&#34;</span>
</span></span><span style=display:flex><span>  subnet_id              <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;subnet-db73f0ac&#34;</span>
</span></span><span style=display:flex><span>  vpc_security_group_ids <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;sg-b04b8cd4&#34;</span>]
</span></span><span style=display:flex><span>  tags <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    Env <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Dev222&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  volume_tags <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    &#34;Env&#34; <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Dev&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example, the terraform execute a resource named aws_instance, to which we pass a set of parameters, the same ones we passed when creating the instance through the UI.</p><p>If you want to learn more about terraform and its usage, I recommend reading <a href=https://mpostument.com/programming/terraform/terraform-install/ title="series of posts about terraform">series of posts about terraform</a></p><h2 id=golang-sdk>Golang SDK<a href=#golang-sdk class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Another option for creating an instance is the AWS SDK, more specifically the <a href=https://aws.github.io/aws-sdk-go-v2/docs/getting-started/>Golang AWS SDK</a>. To use it <a href=https://go.dev/doc/install>golang must be installed</a> together with the <a href=https://aws.github.io/aws-sdk-go-v2/docs/getting-started/#install-the-aws-sdk-for-go-v2>AWS SDK</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;context&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;github.com/aws/aws-sdk-go-v2/aws&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;github.com/aws/aws-sdk-go-v2/service/ec2&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;github.com/aws/aws-sdk-go-v2/service/ec2/types&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Load the Shared AWS Configuration (~/.aws/config)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>cfg</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>LoadDefaultConfig</span>(<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>TODO</span>(),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>WithSharedConfigProfile</span>(<span style=color:#e6db74>&#34;default&#34;</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>client</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ec2</span>.<span style=color:#a6e22e>NewFromConfig</span>(<span style=color:#a6e22e>cfg</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>input</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ec2</span>.<span style=color:#a6e22e>RunInstancesInput</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ImageId</span>:      <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;ami-0cff7528ff583bf9a&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>InstanceType</span>: <span style=color:#a6e22e>types</span>.<span style=color:#a6e22e>InstanceTypeT2Micro</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SubnetId</span>:     <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;subnet-db73f0ac&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SecurityGroupIds</span>: <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>ToStringSlice</span>([]<span style=color:#f92672>*</span><span style=color:#66d9ef>string</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;sg-b04b8cd4&#34;</span>),
</span></span><span style=display:flex><span>        }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>MaxCount</span>: <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>Int32</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>MinCount</span>: <span style=color:#a6e22e>aws</span>.<span style=color:#a6e22e>Int32</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> = <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>RunInstances</span>(<span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Background</span>(), <span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Several events occur in the code. First, we create an AWS client in which I specify that I want to use a profile named default. The profile configuration itself is in the ~/.aws/credentials folder. AWS Access Key and Secret Key should be stored there. You can <a href=https://aws.amazon.com/premiumsupport/knowledge-center/create-access-key/>generate</a> Access and Secret key for your user in the AWS UI.</p><p>In <code>RunInstancesInput</code> we specify the parameters with which we will create the instance. Here everything is the same as when creating with UI as when using terraform. And we create an instance with these parameters. The advantage of terraform over this method is that everything created by terraform can be removed using <code>terraform destroy</code>. In this case, you would need to create your logic for how to delete or delete resources from the UI.</p><h2 id=video>Video<a href=#video class=hanchor arialabel=Anchor>&#8983;</a></h2><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/-nJwDYvtgEs style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//mpostument-com.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>