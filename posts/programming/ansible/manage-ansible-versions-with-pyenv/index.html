<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Manage Ansible Versions With pyenv | Maksym Postument</title>
<meta name=keywords content="VSCode,Devops,Ansible,pyenv,RedHat,Beginner,virtualenv"><meta name=description content="First article in series about ansible. In this article, i will show install pyenv, create virtualenv and install the required ansible version"><meta name=author content="Maksym Postument"><link rel=canonical href=https://mpostument.com/posts/programming/ansible/manage-ansible-versions-with-pyenv/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://mpostument.com/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mpostument.com/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mpostument.com/favicon/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://mpostument.com/favicon/apple-touch-icon.png><link rel=mask-icon href=https://mpostument.com/favicon/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mpostument.com/posts/programming/ansible/manage-ansible-versions-with-pyenv/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SBRJXS94DC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SBRJXS94DC")}</script><meta property="og:url" content="https://mpostument.com/posts/programming/ansible/manage-ansible-versions-with-pyenv/"><meta property="og:site_name" content="Maksym Postument"><meta property="og:title" content="Manage Ansible Versions With pyenv"><meta property="og:description" content="First article in series about ansible. In this article, i will show install pyenv, create virtualenv and install the required ansible version"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-19T10:54:18+03:00"><meta property="article:modified_time" content="2022-09-19T10:54:18+03:00"><meta property="article:tag" content="VSCode"><meta property="article:tag" content="Devops"><meta property="article:tag" content="Ansible"><meta property="article:tag" content="Pyenv"><meta property="article:tag" content="RedHat"><meta property="article:tag" content="Beginner"><meta property="og:image" content="https://mpostument.com/ansible/manage-ansible-versions-with-pyenv.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mpostument.com/ansible/manage-ansible-versions-with-pyenv.jpg"><meta name=twitter:title content="Manage Ansible Versions With pyenv"><meta name=twitter:description content="First article in series about ansible. In this article, i will show install pyenv, create virtualenv and install the required ansible version"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"","item":"https://mpostument.com/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://mpostument.com/posts/programming/"},{"@type":"ListItem","position":3,"name":"Manage Ansible Versions With pyenv","item":"https://mpostument.com/posts/programming/ansible/manage-ansible-versions-with-pyenv/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Manage Ansible Versions With pyenv","name":"Manage Ansible Versions With pyenv","description":"First article in series about ansible. In this article, i will show install pyenv, create virtualenv and install the required ansible version","keywords":["VSCode","Devops","Ansible","pyenv","RedHat","Beginner","virtualenv"],"articleBody":"Hello!\nThis is the first post in the series about Ansible, in which I will show how you can manage versions of Ansible and Python using pyenv.\nPyenv pyenv allows you to install different versions of python and also create a virtual env in which ansible will be installed.\nTo install pyenv, you need to execute the command\ngit clone https://github.com/pyenv/pyenv.git ~/.pyenv and add pyenv to PATH\necho 'export PYENV_ROOT=\"$HOME/.pyenv\"' \u003e\u003e ~/.bashrc echo 'command -v pyenv \u003e/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' \u003e\u003e ~/.bashrc echo 'eval \"$(pyenv init -)\"' \u003e\u003e ~/.bashrc After the shell is restarted, the pyenv command will be available. But to create a virtualenv, you need an additional plugin that can be installed using the command:\ngit clone https://github.com/pyenv/pyenv-virtualenv.git $(pyenv root)/plugins/pyenv-virtualenv You also need to install certain packages for python to compile. For ubuntu it will be:\nsudo apt-get update; sudo apt-get install make build-essential libssl-dev zlib1g-dev \\ libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \\ libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev Now that everything is ready, you can install the required version of python and ansible. Before ansible 2.5 there was support only for python 2, from a version higher than 2.5 you can use python 3. I will install python 3 and ansible version 2.10.\nInstall python To view available versions of python, you can execute the pyenv install --list command\n$ pyenv install --list Available versions: 2.1.3 2.2.3 2.3.7 2.4.0 2.4.1 2.4.2 2.4.3 2.4.4 2.4.5 2.4.6 2.5.0 2.5.1 2.5.2 2.5.3 2.5.4 2.5.5 2.5.6 ... After the desired python version is selected, it can be installed using pyenv install PYTHON_VERSION\n$ pyenv install 3.10.7 Downloading Python-3.10.7.tar.xz... -\u003e https://www.python.org/ftp/python/3.10.7/Python-3.10.7.tar.xz Installing Python-3.10.7... Installed Python-3.10.7 to /home/maksym/.pyenv/versions/3.10.7 Ansible can be installed now, but if several versions are required, it will be difficult to do so. Since the versions will overwrite each other. It is better to use virtualenv. It can be created using pyenv virtualenv PYTHON_VERSION VIRTUALENV_NAME\npyenv virtualenv 3.10.7 ansible-2.10 When a virtualenv is created it needs to be activated, and this is how you can have multiple versions of ansible installed, with a separate virtualenv for each ansible version.\nYou can activate virtualenv using the pyenv activate VIRTUALENV_NAME command\npyenv activate ansible-2.10 Now you are ready to install ansible. This can be done using the pip install PACKAGE_NAME\n$ pip install ansible==2.10.7 Collecting ansible==2.10.7 Downloading ansible-2.10.7.tar.gz (29.9 MB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 29.9/29.9 MB 8.3 MB/s eta 0:00:00 Preparing metadata (setup.py) ... done Collecting ansible-base\u003c2.11,\u003e=2.10.5 Downloading ansible-base-2.10.17.tar.gz (6.1 MB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.1/6.1 MB 9.5 MB/s eta 0:00:00 Preparing metadata (setup.py) ... done Collecting jinja2 Using cached Jinja2-3.1.2-py3-none-any.whl (133 kB) Collecting PyYAML Downloading PyYAML-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (682 kB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 682.2/682.2 kB 8.6 MB/s eta 0:00:00 Collecting cryptography Downloading cryptography-38.0.1-cp36-abi3-manylinux_2_28_x86_64.whl (4.2 MB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 9.9 MB/s eta 0:00:00 Collecting packaging Downloading packaging-21.3-py3-none-any.whl (40 kB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.8/40.8 kB 3.0 MB/s eta 0:00:00 Collecting cffi\u003e=1.12 Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (441 kB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.8/441.8 kB 8.9 MB/s eta 0:00:00 Collecting MarkupSafe\u003e=2.0 Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB) Collecting pyparsing!=3.0.5,\u003e=2.0.2 Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 kB 6.2 MB/s eta 0:00:00 Collecting pycparser Using cached pycparser-2.21-py2.py3-none-any.whl (118 kB) Using legacy 'setup.py install' for ansible, since package 'wheel' is not installed. Using legacy 'setup.py install' for ansible-base, since package 'wheel' is not installed. Installing collected packages: PyYAML, pyparsing, pycparser, MarkupSafe, packaging, jinja2, cffi, cryptography, ansible-base, ansible Running setup.py install for ansible-base ... done Running setup.py install for ansible ... done Successfully installed MarkupSafe-2.1.1 PyYAML-6.0 ansible-2.10.7 ansible-base-2.10.17 cffi-1.15.1 cryptography-38.0.1 jinja2-3.1.2 packaging-21.3 pycparser-2.21 pyparsing-3.0.9 Ansible is now ready to use\n$ ansible --version ansible 2.10.17 config file = None configured module search path = ['/home/maksym/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/maksym/.pyenv/versions/3.10.7/envs/ansible-2.10/lib/python3.10/site-packages/ansible executable location = /home/maksym/.pyenv/versions/ansible-2.10/bin/ansible python version = 3.10.7 (main, Sep 19 2022, 11:11:49) [GCC 9.4.0] If you need to install another version of ansible, you can deactivate virtualenv, create a new one and install ansible\n$ pyenv deactivate $ pyenv virtualenv 3.10.7 ansible-2.9 $ pip install ansible==2.9.27 Video ","wordCount":"644","inLanguage":"en","image":"https://mpostument.com/ansible/manage-ansible-versions-with-pyenv.jpg","datePublished":"2022-09-19T10:54:18+03:00","dateModified":"2022-09-19T10:54:18+03:00","author":[{"@type":"Person","name":"Maksym Postument"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://mpostument.com/posts/programming/ansible/manage-ansible-versions-with-pyenv/"},"publisher":{"@type":"Organization","name":"Maksym Postument","logo":{"@type":"ImageObject","url":"https://mpostument.com/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mpostument.com/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mpostument.com/posts/programming/ title=Programming><span>Programming</span></a></li><li><a href=https://mpostument.com/posts/drawing/ title=Drawing><span>Drawing</span></a></li><li><a href=https://mpostument.com/posts/yoga/ title=Yoga><span>Yoga</span></a></li><li><a href=https://mpostument.com/posts/music/ title=Music><span>Music</span></a></li><li><a href=https://mpostument.com/posts/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://mpostument.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://mpostument.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://mpostument.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://mpostument.com/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://mpostument.com/>Home</a>&nbsp;»&nbsp;<a href=https://mpostument.com/posts/></a>&nbsp;»&nbsp;<a href=https://mpostument.com/posts/programming/></a></div><h1 class="post-title entry-hint-parent">Manage Ansible Versions With pyenv</h1><div class=post-description>First article in series about ansible. In this article, i will show install pyenv, create virtualenv and install the required ansible version</div><div class=post-meta><span title='2022-09-19 10:54:18 +0300 +0300'>September 19, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;644 words&nbsp;·&nbsp;Maksym Postument&nbsp;|&nbsp;<a href=https://github.com/mpostument/content-mpostument/edit/master/content/posts/programming/ansible/manage-ansible-versions-with-pyenv.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><a href=https://mpostument.com/ansible/manage-ansible-versions-with-pyenv.jpg target=_blank rel="noopener noreferrer"><img loading=eager src=https://mpostument.com/ansible/manage-ansible-versions-with-pyenv.jpg alt></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#pyenv>Pyenv</a></li><li><a href=#install-python>Install python</a></li><li><a href=#video>Video</a></li></ul></nav></div></details></div><div class=post-content><p>Hello!</p><p>This is the first post in the series about Ansible, in which I will show how you can manage versions of Ansible and Python using pyenv.</p><h2 id=pyenv>Pyenv<a hidden class=anchor aria-hidden=true href=#pyenv>#</a></h2><p><a href=https://github.com/pyenv/pyenv>pyenv</a> allows you to install different versions of python and also create a virtual env in which ansible will be installed.</p><p>To install pyenv, you need to execute the command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone https://github.com/pyenv/pyenv.git ~/.pyenv
</span></span></code></pre></div><p>and add pyenv to PATH</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;export PYENV_ROOT=&#34;$HOME/.pyenv&#34;&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;command -v pyenv &gt;/dev/null || export PATH=&#34;$PYENV_ROOT/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;eval &#34;$(pyenv init -)&#34;&#39;</span> &gt;&gt; ~/.bashrc
</span></span></code></pre></div><p>After the shell is restarted, the <code>pyenv</code> command will be available. But to create a virtualenv, you need an additional <a href=https://github.com/pyenv/pyenv-virtualenv>plugin</a> that can be installed using the command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone https://github.com/pyenv/pyenv-virtualenv.git <span class=k>$(</span>pyenv root<span class=k>)</span>/plugins/pyenv-virtualenv
</span></span></code></pre></div><p>You also need to install certain <a href=https://github.com/pyenv/pyenv/wiki#suggested-build-environment>packages</a> for python to compile. For ubuntu it will be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt-get update<span class=p>;</span> sudo apt-get install make build-essential libssl-dev zlib1g-dev <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev
</span></span></code></pre></div><p>Now that everything is ready, you can install the required version of python and ansible. Before ansible 2.5 there was support only for python 2, from a version higher than 2.5 you can use python 3. I will install python 3 and ansible version 2.10.</p><h2 id=install-python>Install python<a hidden class=anchor aria-hidden=true href=#install-python>#</a></h2><p>To view available versions of python, you can execute the <code>pyenv install --list</code> command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ pyenv install --list
</span></span><span class=line><span class=cl>Available versions:
</span></span><span class=line><span class=cl>  2.1.3
</span></span><span class=line><span class=cl>  2.2.3
</span></span><span class=line><span class=cl>  2.3.7
</span></span><span class=line><span class=cl>  2.4.0
</span></span><span class=line><span class=cl>  2.4.1
</span></span><span class=line><span class=cl>  2.4.2
</span></span><span class=line><span class=cl>  2.4.3
</span></span><span class=line><span class=cl>  2.4.4
</span></span><span class=line><span class=cl>  2.4.5
</span></span><span class=line><span class=cl>  2.4.6
</span></span><span class=line><span class=cl>  2.5.0
</span></span><span class=line><span class=cl>  2.5.1
</span></span><span class=line><span class=cl>  2.5.2
</span></span><span class=line><span class=cl>  2.5.3
</span></span><span class=line><span class=cl>  2.5.4
</span></span><span class=line><span class=cl>  2.5.5
</span></span><span class=line><span class=cl>  2.5.6
</span></span><span class=line><span class=cl>  ...
</span></span></code></pre></div><p>After the desired python version is selected, it can be installed using <code>pyenv install PYTHON_VERSION</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ pyenv install 3.10.7
</span></span><span class=line><span class=cl>Downloading Python-3.10.7.tar.xz...
</span></span><span class=line><span class=cl>-&gt; https://www.python.org/ftp/python/3.10.7/Python-3.10.7.tar.xz
</span></span><span class=line><span class=cl>Installing Python-3.10.7...
</span></span><span class=line><span class=cl>Installed Python-3.10.7 to /home/maksym/.pyenv/versions/3.10.7
</span></span></code></pre></div><p>Ansible can be installed now, but if several versions are required, it will be difficult to do so. Since the versions will overwrite each other. It is better to use virtualenv. It can be created using <code>pyenv virtualenv PYTHON_VERSION VIRTUALENV_NAME</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pyenv virtualenv 3.10.7 ansible-2.10
</span></span></code></pre></div><p>When a virtualenv is created it needs to be activated, and this is how you can have multiple versions of ansible installed, with a separate virtualenv for each ansible version.</p><p>You can activate virtualenv using the <code>pyenv activate VIRTUALENV_NAME</code> command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pyenv activate ansible-2.10
</span></span></code></pre></div><p>Now you are ready to install ansible. This can be done using the <code>pip install PACKAGE_NAME</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ pip install <span class=nv>ansible</span><span class=o>==</span>2.10.7
</span></span><span class=line><span class=cl>Collecting <span class=nv>ansible</span><span class=o>==</span>2.10.7
</span></span><span class=line><span class=cl>  Downloading ansible-2.10.7.tar.gz <span class=o>(</span>29.9 MB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 29.9/29.9 MB 8.3 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>  Preparing metadata <span class=o>(</span>setup.py<span class=o>)</span> ... <span class=k>done</span>
</span></span><span class=line><span class=cl>Collecting ansible-base&lt;2.11,&gt;<span class=o>=</span>2.10.5
</span></span><span class=line><span class=cl>  Downloading ansible-base-2.10.17.tar.gz <span class=o>(</span>6.1 MB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.1/6.1 MB 9.5 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>  Preparing metadata <span class=o>(</span>setup.py<span class=o>)</span> ... <span class=k>done</span>
</span></span><span class=line><span class=cl>Collecting jinja2
</span></span><span class=line><span class=cl>  Using cached Jinja2-3.1.2-py3-none-any.whl <span class=o>(</span><span class=m>133</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>Collecting PyYAML
</span></span><span class=line><span class=cl>  Downloading PyYAML-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl <span class=o>(</span><span class=m>682</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 682.2/682.2 kB 8.6 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>Collecting cryptography
</span></span><span class=line><span class=cl>  Downloading cryptography-38.0.1-cp36-abi3-manylinux_2_28_x86_64.whl <span class=o>(</span>4.2 MB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 9.9 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>Collecting packaging
</span></span><span class=line><span class=cl>  Downloading packaging-21.3-py3-none-any.whl <span class=o>(</span><span class=m>40</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.8/40.8 kB 3.0 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>Collecting cffi&gt;<span class=o>=</span>1.12
</span></span><span class=line><span class=cl>  Downloading cffi-1.15.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl <span class=o>(</span><span class=m>441</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 441.8/441.8 kB 8.9 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>Collecting MarkupSafe&gt;<span class=o>=</span>2.0
</span></span><span class=line><span class=cl>  Downloading MarkupSafe-2.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl <span class=o>(</span><span class=m>25</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>Collecting pyparsing!<span class=o>=</span>3.0.5,&gt;<span class=o>=</span>2.0.2
</span></span><span class=line><span class=cl>  Downloading pyparsing-3.0.9-py3-none-any.whl <span class=o>(</span><span class=m>98</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 kB 6.2 MB/s eta 0:00:00
</span></span><span class=line><span class=cl>Collecting pycparser
</span></span><span class=line><span class=cl>  Using cached pycparser-2.21-py2.py3-none-any.whl <span class=o>(</span><span class=m>118</span> kB<span class=o>)</span>
</span></span><span class=line><span class=cl>Using legacy <span class=s1>&#39;setup.py install&#39;</span> <span class=k>for</span> ansible, since package <span class=s1>&#39;wheel&#39;</span> is not installed.
</span></span><span class=line><span class=cl>Using legacy <span class=s1>&#39;setup.py install&#39;</span> <span class=k>for</span> ansible-base, since package <span class=s1>&#39;wheel&#39;</span> is not installed.
</span></span><span class=line><span class=cl>Installing collected packages: PyYAML, pyparsing, pycparser, MarkupSafe, packaging, jinja2, cffi, cryptography, ansible-base, ansible
</span></span><span class=line><span class=cl>  Running setup.py install <span class=k>for</span> ansible-base ... <span class=k>done</span>
</span></span><span class=line><span class=cl>  Running setup.py install <span class=k>for</span> ansible ... <span class=k>done</span>
</span></span><span class=line><span class=cl>Successfully installed MarkupSafe-2.1.1 PyYAML-6.0 ansible-2.10.7 ansible-base-2.10.17 cffi-1.15.1 cryptography-38.0.1 jinja2-3.1.2 packaging-21.3 pycparser-2.21 pyparsing-3.0.9
</span></span></code></pre></div><p>Ansible is now ready to use</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ ansible --version
</span></span><span class=line><span class=cl>ansible 2.10.17
</span></span><span class=line><span class=cl>  config <span class=nv>file</span> <span class=o>=</span> None
</span></span><span class=line><span class=cl>  configured module search <span class=nv>path</span> <span class=o>=</span> <span class=o>[</span><span class=s1>&#39;/home/maksym/.ansible/plugins/modules&#39;</span>, <span class=s1>&#39;/usr/share/ansible/plugins/modules&#39;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>  ansible python module <span class=nv>location</span> <span class=o>=</span> /home/maksym/.pyenv/versions/3.10.7/envs/ansible-2.10/lib/python3.10/site-packages/ansible
</span></span><span class=line><span class=cl>  executable <span class=nv>location</span> <span class=o>=</span> /home/maksym/.pyenv/versions/ansible-2.10/bin/ansible
</span></span><span class=line><span class=cl>  python <span class=nv>version</span> <span class=o>=</span> 3.10.7 <span class=o>(</span>main, Sep <span class=m>19</span> 2022, 11:11:49<span class=o>)</span> <span class=o>[</span>GCC 9.4.0<span class=o>]</span>
</span></span></code></pre></div><p>If you need to install another version of ansible, you can deactivate virtualenv, create a new one and install ansible</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ pyenv deactivate
</span></span><span class=line><span class=cl>$ pyenv virtualenv 3.10.7 ansible-2.9
</span></span><span class=line><span class=cl>$ pip install <span class=nv>ansible</span><span class=o>==</span>2.9.27
</span></span></code></pre></div><h2 id=video>Video<a hidden class=anchor aria-hidden=true href=#video>#</a></h2><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/pBobhqJrKZg?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://mpostument.com/tags/vscode/>VSCode</a></li><li><a href=https://mpostument.com/tags/devops/>Devops</a></li><li><a href=https://mpostument.com/tags/ansible/>Ansible</a></li><li><a href=https://mpostument.com/tags/pyenv/>Pyenv</a></li><li><a href=https://mpostument.com/tags/redhat/>RedHat</a></li><li><a href=https://mpostument.com/tags/beginner/>Beginner</a></li></ul><nav class=paginav><a class=prev href=https://mpostument.com/posts/programming/aws/aws-101-ec2-part-1/><span class=title>« Prev</span><br><span>AWS 101: EC2 Part 1</span>
</a><a class=next href=https://mpostument.com/posts/programming/terraform/terraform-modules-and-import/><span class=title>Next »</span><br><span>Terraform Modules and Import</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on x" href="https://x.com/intent/tweet/?text=Manage%20Ansible%20Versions%20With%20pyenv&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f&amp;hashtags=VSCode%2cDevops%2cAnsible%2cpyenv%2cRedHat%2cBeginner"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f&amp;title=Manage%20Ansible%20Versions%20With%20pyenv&amp;summary=Manage%20Ansible%20Versions%20With%20pyenv&amp;source=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f&title=Manage%20Ansible%20Versions%20With%20pyenv"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on whatsapp" href="https://api.whatsapp.com/send?text=Manage%20Ansible%20Versions%20With%20pyenv%20-%20https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on telegram" href="https://telegram.me/share/url?text=Manage%20Ansible%20Versions%20With%20pyenv&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Manage Ansible Versions With pyenv on ycombinator" href="https://news.ycombinator.com/submitlink?t=Manage%20Ansible%20Versions%20With%20pyenv&u=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fansible%2fmanage-ansible-versions-with-pyenv%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//mpostument-com.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://mpostument.com/>Maksym Postument</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>