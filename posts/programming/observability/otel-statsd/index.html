<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Integrating StatsD Metrics with Prometheus Using OpenTelemetry | mpostument.com</title><meta name=keywords content="OpenTelemetry,StatsD,Prometheus,Metrics Integration,Monitoring,Configuration Guide,Performance Monitoring,DevOps,Observability"><meta name=description content="In this post, we will explore the process of integrating StatsD metrics with Prometheus using OpenTelemetry (Otel). I will shares my firsthand experience and provides a step-by-step guide to help you set up the necessary configurations. If you are looking to receive StatsD metrics and send them to Prometheus for monitoring and analysis, this post is for you."><meta name=author content="Maksym Postument"><link rel=canonical href=https://mpostument.com/posts/programming/observability/otel-statsd/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://mpostument.com/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mpostument.com/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mpostument.com/favicon/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://mpostument.com/favicon/apple-touch-icon.png><link rel=mask-icon href=https://mpostument.com/favicon/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SBRJXS94DC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SBRJXS94DC",{anonymize_ip:!1})}</script><meta property="og:title" content="Integrating StatsD Metrics with Prometheus Using OpenTelemetry"><meta property="og:description" content="In this post, we will explore the process of integrating StatsD metrics with Prometheus using OpenTelemetry (Otel). I will shares my firsthand experience and provides a step-by-step guide to help you set up the necessary configurations. If you are looking to receive StatsD metrics and send them to Prometheus for monitoring and analysis, this post is for you."><meta property="og:type" content="article"><meta property="og:url" content="https://mpostument.com/posts/programming/observability/otel-statsd/"><meta property="og:image" content="https://mpostument.com/observability/otel_statsd.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-11T20:17:11+03:00"><meta property="article:modified_time" content="2023-06-11T20:17:11+03:00"><meta property="og:site_name" content="Maksym Postument"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mpostument.com/observability/otel_statsd.jpg"><meta name=twitter:title content="Integrating StatsD Metrics with Prometheus Using OpenTelemetry"><meta name=twitter:description content="In this post, we will explore the process of integrating StatsD metrics with Prometheus using OpenTelemetry (Otel). I will shares my firsthand experience and provides a step-by-step guide to help you set up the necessary configurations. If you are looking to receive StatsD metrics and send them to Prometheus for monitoring and analysis, this post is for you."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"","item":"https://mpostument.com/posts/"},{"@type":"ListItem","position":3,"name":"","item":"https://mpostument.com/posts/programming/"},{"@type":"ListItem","position":4,"name":"Integrating StatsD Metrics with Prometheus Using OpenTelemetry","item":"https://mpostument.com/posts/programming/observability/otel-statsd/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Integrating StatsD Metrics with Prometheus Using OpenTelemetry","name":"Integrating StatsD Metrics with Prometheus Using OpenTelemetry","description":"In this post, we will explore the process of integrating StatsD metrics with Prometheus using OpenTelemetry (Otel). I will shares my firsthand experience and provides a step-by-step guide to help you set up the necessary configurations. If you are looking to receive StatsD metrics and send them to Prometheus for monitoring and analysis, this post is for you.","keywords":["OpenTelemetry","StatsD","Prometheus","Metrics Integration","Monitoring","Configuration Guide","Performance Monitoring","DevOps","Observability"],"articleBody":"Hello!\nRecently, I worked on a task that involved receiving StatsD metrics and sending them to Prometheus. Since I was already using the Otel collector, I decided to utilize it for this task.\nOtelcontrib provides a StatsD receiver (you can find it here: StatsD Receiver). Configuring the receiver itself is a relatively easy task. However, sending the received metrics to Prometheus proved to be more challenging. The reason for this is that the Prometheus Remote Write exporter drops StatsD metrics. Fortunately, I managed to solve this issue and would like to share my findings.\nI attempted to set up Otel with StatsD in Kubernetes using the official Helm chart, as well as on an EC2 instance using RPM. The configuration itself remained the same in both cases. Below, I will share my example of setting it up on an EC2 instance.\nTo make it work, you first need a functioning Otel installation. It’s important to note that the StatsD receiver does not support scaling, so you can only have one instance of Otel with StatsD to receive data from a particular service. That’s why I added a separate instance of Otel with only the StatsD receiver, away from my other instances of Otel that have scaling enabled.\nThe configuration for the StatsD receiver is straightforward:\nreceivers: statsd: endpoint: 0.0.0.0:8125 is_monotonic_counter: true Next, I wanted to add an exporter such as the Prometheus Remote Write exporter:\nprometheusremotewrite: auth: authenticator: sigv4auth endpoint: https://PROMETHEUS/api/v1/remote_write resource_to_telemetry_conversion: enabled: true timeout: 30s Here is my pipeline configuration:\nmetrics: exporters: - logging - prometheusremotewrite processors: - memory_limiter - batch - cumulativetodelta receivers: - otlp - statsd However, when I checked for data in Prometheus, I found nothing. This is because the Prometheus Remote Write exporter drops all Otel data. As mentioned in the Otel documentation:\n⚠️ Non-cumulative monotonic, histogram, and summary OTLP metrics are dropped by this exporter. I needed a way to make the metrics compatible, and another Otel exporter helped me achieve this. I introduced the Prometheus Exporter to my pipeline. This exporter exports data in the Prometheus format, allowing it to be scraped by a Prometheus server.\nHere is the configuration for the Prometheus exporter:\nprometheus: enable_open_metrics: true endpoint: 0.0.0.0:9999 metric_expiration: 3m namespace: statsd resource_to_telemetry_conversion: enabled: true send_timestamps: true Now that I had the Prometheus exporter, I needed to write data to it by modifying the pipeline. In reality, I needed two pipelines, so I created the first one named “statsd”:\nmetrics/statsd: exporters: - logging - prometheus processors: - memory_limiter - batch - cumulativetodelta receivers: - statsd This pipeline receives data from StatsD and exports it as Prometheus metrics. I can now access my metrics using “MY_IP:9999/metrics”. My metrics are now in the Prometheus format. The next step is to scrape them and send them to the Prometheus backend. This can be achieved using the Prometheus receiver and scrape configuration:\nprometheus: config: scrape_configs: - job_name: statsd metric_relabel_configs: - replacement: dev target_label: env scrape_interval: 60s static_configs: - targets: - localhost:9999 Finally, I can build my pipelines, which will perform the following steps: data -\u003e StatsD -\u003e Prometheus endpoint -\u003e scrape job -\u003e Prometheus backend.\nHere is the pipeline configuration in code:\nmetrics/prometheus: exporters: - logging - prometheusremotewrite processors: - memory_limiter - batch receivers: - otlp - prometheus metrics/statsd: exporters: - logging - prometheus processors: - memory_limiter - batch - cumulativetodelta receivers: - statsd The cumulativetodelta processor is required in the StatsD pipeline because it converts monotonic, cumulative sum, and histogram metrics to monotonic delta metrics. Non-monotonic sums and exponential histograms are excluded.\nProcessors also need to be defined in the configuration:\nprocessors: batch: {} cumulativetodelta: null memory_limiter: check_interval: 5s limit_percentage: 80 spike_limit_percentage: 25 The final configuration will look like this:\nexporters: logging: {} prometheusremotewrite: auth: authenticator: sigv4auth endpoint: https://PROMETHEUS/api/v1/remote_write resource_to_telemetry_conversion: enabled: true timeout: 30s prometheus: enable_open_metrics: true endpoint: 0.0.0.0:9999 metric_expiration: 3m namespace: statsd resource_to_telemetry_conversion: enabled: true send_timestamps: true extensions: health_check: {} processors: batch: {} cumulativetodelta: null memory_limiter: check_interval: 5s limit_percentage: 80 spike_limit_percentage: 25 receivers: prometheus: config: scrape_configs: - job_name: opentelemetry-collector metric_relabel_configs: - replacement: statsd target_label: type scrape_interval: 10s static_configs: - targets: - localhost:8888 - job_name: statsd metric_relabel_configs: - replacement: dev target_label: env scrape_interval: 60s static_configs: - targets: - localhost:9999 statsd: endpoint: 0.0.0.0:8125 is_monotonic_counter: true service: extensions: - health_check pipelines: metrics/prometheus: exporters: - logging - prometheusremotewrite processors: - memory_limiter - batch receivers: - otlp - prometheus metrics/statsd: exporters: - logging - prometheus processors: - memory_limiter - batch - cumulativetodelta receivers: - statsd As you can see in this configuration, there is an additional scrape job on port 8888. This is not required for StatsD, but this endpoint exposes Otel metrics. If you want to have the ability to monitor the status of your Otel installation, I suggest adding this scrape job.\n","wordCount":"785","inLanguage":"en","image":"https://mpostument.com/observability/otel_statsd.jpg","datePublished":"2023-06-11T20:17:11+03:00","dateModified":"2023-06-11T20:17:11+03:00","author":[{"@type":"Person","name":"Maksym Postument"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://mpostument.com/posts/programming/observability/otel-statsd/"},"publisher":{"@type":"Organization","name":"mpostument.com","logo":{"@type":"ImageObject","url":"https://mpostument.com/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mpostument.com accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mpostument.com/posts/programming/ title=Programming><span>Programming</span></a></li><li><a href=https://mpostument.com/posts/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://mpostument.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://mpostument.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://mpostument.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://mpostument.com/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://mpostument.com>Home</a>&nbsp;»&nbsp;<a href=https://mpostument.com/posts/></a>&nbsp;»&nbsp;<a href=https://mpostument.com/posts/programming/></a></div><h1 class=post-title>Integrating StatsD Metrics with Prometheus Using OpenTelemetry</h1><div class=post-description>In this post, we will explore the process of integrating StatsD metrics with Prometheus using OpenTelemetry (Otel). I will shares my firsthand experience and provides a step-by-step guide to help you set up the necessary configurations. If you are looking to receive StatsD metrics and send them to Prometheus for monitoring and analysis, this post is for you.</div><div class=post-meta><span title='2023-06-11 20:17:11 +0300 +0300'>June 11, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;785 words&nbsp;·&nbsp;Maksym Postument&nbsp;|&nbsp;<a href=https://github.com/mpostument/content-mpostument/blob/master/content/posts/programming/observability/otel-statsd.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><a href=https://mpostument.com/observability/otel_statsd.jpg target=_blank rel="noopener noreferrer"><img loading=lazy src=https://mpostument.com/observability/otel_statsd.jpg alt=Otel></a></figure><div class=post-content><p>Hello!</p><p>Recently, I worked on a task that involved receiving StatsD metrics and sending them to Prometheus. Since I was already using the Otel collector, I decided to utilize it for this task.</p><p>Otelcontrib provides a StatsD receiver (you can find it here: <a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/statsdreceiver/README.md>StatsD Receiver</a>). Configuring the receiver itself is a relatively easy task. However, sending the received metrics to Prometheus proved to be more challenging. The reason for this is that the <a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/prometheusremotewriteexporter/README.md>Prometheus Remote Write</a> exporter drops StatsD metrics. Fortunately, I managed to solve this issue and would like to share my findings.</p><p>I attempted to set up Otel with StatsD in Kubernetes using the <a href=(https://github.com/open-telemetry/opentelemetry-helm-charts/tree/main/charts/opentelemetry-collector)>official Helm chart</a>, as well as on an EC2 instance using RPM. The configuration itself remained the same in both cases. Below, I will share my example of setting it up on an EC2 instance.</p><p>To make it work, you first need a functioning Otel installation. It&rsquo;s important to note that the StatsD receiver does not support scaling, so you can only have one instance of Otel with StatsD to receive data from a particular service. That&rsquo;s why I added a separate instance of Otel with only the StatsD receiver, away from my other instances of Otel that have scaling enabled.</p><p>The configuration for the StatsD receiver is straightforward:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>statsd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=m>0.0.0.0</span><span class=p>:</span><span class=m>8125</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>is_monotonic_counter</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>Next, I wanted to add an exporter such as the Prometheus Remote Write exporter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheusremotewrite</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auth</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>authenticator</span><span class=p>:</span><span class=w> </span><span class=l>sigv4auth</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=l>https://PROMETHEUS/api/v1/remote_write</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resource_to_telemetry_conversion</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span></code></pre></div><p>Here is my pipeline configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheusremotewrite</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>cumulativetodelta</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>otlp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>statsd</span><span class=w>
</span></span></span></code></pre></div><p>However, when I checked for data in Prometheus, I found nothing. This is because the Prometheus Remote Write exporter drops all Otel data. As mentioned in the Otel documentation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>⚠️ Non-cumulative monotonic, histogram, and summary OTLP metrics are dropped by this exporter.
</span></span></code></pre></div><p>I needed a way to make the metrics compatible, and another Otel exporter helped me achieve this. I introduced the <a href=(https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/prometheusexporter)>Prometheus Exporter</a> to my pipeline. This exporter exports data in the Prometheus format, allowing it to be scraped by a Prometheus server.</p><p>Here is the configuration for the Prometheus exporter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable_open_metrics</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=m>0.0.0.0</span><span class=p>:</span><span class=m>9999</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metric_expiration</span><span class=p>:</span><span class=w> </span><span class=l>3m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>statsd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resource_to_telemetry_conversion</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>send_timestamps</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>Now that I had the Prometheus exporter, I needed to write data to it by modifying the pipeline. In reality, I needed two pipelines, so I created the first one named &ldquo;statsd&rdquo;:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics/statsd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>cumulativetodelta</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>statsd</span><span class=w>
</span></span></span></code></pre></div><p>This pipeline receives data from StatsD and exports it as Prometheus metrics. I can now access my metrics using &ldquo;MY_IP:9999/metrics&rdquo;. My metrics are now in the Prometheus format. The next step is to scrape them and send them to the Prometheus backend. This can be achieved using the Prometheus receiver and scrape configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=l>statsd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>metric_relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>env</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>60s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>targets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>localhost:9999</span><span class=w>
</span></span></span></code></pre></div><p>Finally, I can build my pipelines, which will perform the following steps: data -> StatsD -> Prometheus endpoint -> scrape job -> Prometheus backend.</p><p>Here is the pipeline configuration in code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics/prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheusremotewrite</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>otlp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics/statsd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>cumulativetodelta</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>statsd</span><span class=w>
</span></span></span></code></pre></div><p>The cumulativetodelta processor is required in the StatsD pipeline because it converts monotonic, cumulative sum, and histogram metrics to monotonic delta metrics. Non-monotonic sums and exponential histograms are excluded.</p><p>Processors also need to be defined in the configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>batch</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cumulativetodelta</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>memory_limiter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>check_interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>limit_percentage</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spike_limit_percentage</span><span class=p>:</span><span class=w> </span><span class=m>25</span><span class=w>
</span></span></span></code></pre></div><p>The final configuration will look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>logging</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheusremotewrite</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auth</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>authenticator</span><span class=p>:</span><span class=w> </span><span class=l>sigv4auth</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=l>https://PROMETHEUS/api/v1/remote_write</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resource_to_telemetry_conversion</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable_open_metrics</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=m>0.0.0.0</span><span class=p>:</span><span class=m>9999</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metric_expiration</span><span class=p>:</span><span class=w> </span><span class=l>3m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>statsd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resource_to_telemetry_conversion</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>send_timestamps</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>extensions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>health_check</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>batch</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cumulativetodelta</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>memory_limiter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>check_interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>limit_percentage</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spike_limit_percentage</span><span class=p>:</span><span class=w> </span><span class=m>25</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=l>opentelemetry-collector</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>metric_relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>statsd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>targets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>localhost:8888</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=l>statsd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>metric_relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>env</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>60s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>targets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>localhost:9999</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>statsd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=m>0.0.0.0</span><span class=p>:</span><span class=m>8125</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>is_monotonic_counter</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>extensions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>health_check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics/prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheusremotewrite</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>otlp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics/statsd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>logging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>cumulativetodelta</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>statsd</span><span class=w>
</span></span></span></code></pre></div><p>As you can see in this configuration, there is an additional scrape job on port 8888. This is not required for StatsD, but this endpoint exposes Otel metrics. If you want to have the ability to monitor the status of your Otel installation, I suggest adding this scrape job.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://mpostument.com/tags/opentelemetry/>OpenTelemetry</a></li><li><a href=https://mpostument.com/tags/statsd/>StatsD</a></li><li><a href=https://mpostument.com/tags/prometheus/>Prometheus</a></li><li><a href=https://mpostument.com/tags/metrics-integration/>Metrics Integration</a></li><li><a href=https://mpostument.com/tags/monitoring/>Monitoring</a></li><li><a href=https://mpostument.com/tags/configuration-guide/>Configuration Guide</a></li><li><a href=https://mpostument.com/tags/performance-monitoring/>Performance Monitoring</a></li><li><a href=https://mpostument.com/tags/devops/>Devops</a></li><li><a href=https://mpostument.com/tags/observability/>Observability</a></li></ul><nav class=paginav><a class=prev href=https://mpostument.com/posts/programming/observability/otel-kibana/><span class=title>« Prev</span><br><span>Monitoring Kibana with OpenTelemetry Collector: Gathering Logs and Metrics</span></a>
<a class=next href=https://mpostument.com/posts/programming/golang/basics/go-routines/><span class=title>Next »</span><br><span>Goroutines in go</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on twitter" href="https://twitter.com/intent/tweet/?text=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f&amp;hashtags=OpenTelemetry%2cStatsD%2cPrometheus%2cMetricsIntegration%2cMonitoring%2cConfigurationGuide%2cPerformanceMonitoring%2cDevOps%2cObservability"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f&amp;title=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry&amp;summary=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry&amp;source=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f&title=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on whatsapp" href="https://api.whatsapp.com/send?text=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry%20-%20https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on telegram" href="https://telegram.me/share/url?text=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry&amp;url=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Integrating StatsD Metrics with Prometheus Using OpenTelemetry on ycombinator" href="https://news.ycombinator.com/submitlink?t=Integrating%20StatsD%20Metrics%20with%20Prometheus%20Using%20OpenTelemetry&u=https%3a%2f%2fmpostument.com%2fposts%2fprogramming%2fobservability%2fotel-statsd%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//mpostument-com.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2023 <a href=https://mpostument.com>mpostument.com</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>